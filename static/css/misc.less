/* ==========================================================================
   cfgov-refresh
   misc
   ========================================================================== */


/* topdoc
  name: Forms
  family: cfgov-misc
  patterns:
    - name: Labels
      markup: |
        <label>Topics</label>
        <input type="text">
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          ...
  tags:
    - cfgov-misc
*/

.form-label {
    .h5();
}

.form-label__inline {
    .webfont-regular();
    text-transform: none;
}


/* topdoc
  name: Hero
  family: cfgov-misc
  patterns:
    - name: Basic hero
      markup: |
        ...
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          ...
  tags:
    - cfgov-misc
*/

.hero {
    position: relative;
    overflow: hidden;
    background-color: @gray;

    // The image container is needed to suppress loading of the images until
    // they are needed. Research: http://timkadlec.com/2012/04/media-query-asset-downloading-results/
    &_img-container {
        display: none;
        line-height: 1;
    }

    &_img {
        display: block;
        height: 100%;
        line-height: 1;
        background-position: center bottom;
        background-repeat: no-repeat;
        background-size: cover;
    }

    .u-respond-to-max(659px, {
        &_img-container__small {
            .u-flexible-container(660,300);
            display: block;
        }
    });

    .u-respond-to-min(660px, {
        &_img-container__large {
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            z-index: 1;
        }
    });

    .u-respond-to-min(660px, {
        padding-top: unit(30px / @base-font-size-px, em);

        &_card {
            position: relative;
            .column(6, @total-columns, 6);
            z-index: 2;
        }
    });

    .u-respond-to-min(1024px, {
        &_card {
            .column(4, @total-columns, 8);
        }
    });

    &_card-bg {
        background: @white;
        background: fade(@white, 90%);
        // Overflow hidden is used to counteract the margin collapse used in
        // .hero_card-padding.
        overflow: hidden;
    }

    &_card-padding {
        padding: @gutter-width @gutter-width 0;
        margin-bottom: @gutter-width + 10px;
    }
}


/* topdoc
  name: Lists
  family: cfgov-misc
  notes:
    - "Note that modifiers are the most common use cases for this block, hence
      the reason there are no direct styles associated with .link or .link_item."
  patterns:
    - name: Basic structure
      markup: |
        <ul class="list">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .list
            .list_item
              .list_link
  tags:
    - cfgov-misc
*/

.list_link {
    .webfont-medium();
}


/* topdoc
  name: Unstyled list modifier
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <ul class="list list__unstyled">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
  tags:
    - cfgov-misc
*/

.list__unstyled {
    padding-left: 0;
    list-style-type: none;
}


/* topdoc
  name: Spaced list item modifier
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <ul class="list">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item list_item__spaced">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
  tags:
    - cfgov-misc
*/

.list_item__spaced {
    margin-top: unit(24px / @base-font-size-px, em);
}


/* topdoc
  name: Horizontal list modifier
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <ul class="list list__horizontal">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
  tags:
    - cfgov-misc
*/


.list__horizontal {
    padding-left: 0;

    .list_item {
        .u-inline-block();
    }

    .list_item + .list_item {
        // Assuming a natural space of 4px between inline block items
        // then the space between would be 8px (4px natural + 4px added).
        margin-left: unit(4px / @base-font-size-px, em);
    }
}


/* topdoc
  name: Share icon
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <a class="share-icon" href="#">
            <span class="cf-icon cf-icon-email-social-square"></span>
            <span class="visually-hidden">
                Share by email
            </span>
        </a>
      notes:
        - "Text for screenreaders is added with the .visually-hidden element."
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .share-icon
            .cf-icon.cf-icon-name
            .visually-hidden
  tags:
    - cfgov-misc
*/

.share-icon {
    color: @darkgray;
    font-size: unit(26px / @base-font-size-px, em);
    line-height: 1;
    .u-link__colors(@darkgray, @pacific-80);
    .u-link__no-border();

    & + & {
        margin-left: unit(2px / 26px, em);
    }
}


/* topdoc
  name: Line container
  family: cfgov-misc
  notes:
    - ".line-container is meant to contain anything you want with consistent top
      and bottom padding. It uses a margin collapsing trick in CSS to achieve
      this consistency which this is why .line-container_body is needed. The
      only caveat to this consistency is if you place something inside of it
      that has a bottom-margin that is larger than the .line-container padding."
  patterns:
    - name: Basic line container
      markup: |
        <div class="line-container">
            <div class="line-container_body">
                <p>
                    ¯\_(ツ)_/¯<br>
                    There is a light border above and below me!
                </p>
            </div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .line-container
            .line-container_body
    - name: Line container with no top border or padding (example 1)
      markup: |
        <div class="line-container line-container__no-top">
            <div class="line-container_body">
                <h2 class="header-slug">
                    <span class="header-slug_inner">
                        Blog summary
                    </span>
                </h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                    Dolorum ex provident dolorem ipsum molestias eius tenetur
                    doloribus obcaecati illum autem! Fuga commodi natus
                    distinctio accusantium esse ab dolore in aliquid.
                </p>
            </div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .line-container.line-container__no-top
            .line-container_body
    - name: Line container with no top border or padding (example 2)
      markup: |
        <div class="line-container">
            <div class="line-container_body line-container__no-top">
                <p>
                    <img src="http://placekitten.com/700/200" alt="">
                </p>
                <h2>
                    Photo heading
                </h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                    Dolorum ex provident dolorem ipsum molestias eius tenetur
                    doloribus obcaecati illum autem! Fuga commodi natus
                    distinctio accusantium esse ab dolore in aliquid.
                </p>
            </div>
        </div>
  tags:
    - cfgov-misc
*/

.line-container {
    margin: 0 0 unit(30px / @base-font-size-px, em);
    border-top: 1px solid @gray-20;
    border-bottom: 1px solid @gray-20;

    &_body {
        // 26px is eyeballed to 30px when considering line heights of potential
        // children.
        margin: unit(26px / @base-font-size-px, em)
                0
                unit(26px / @base-font-size-px, em);
    }

    &__no-top {
        border-top: 0;
        .line-container_body {
            margin-top: 0;
        }
    }
}


/* topdoc
  name: Padded container
  family: cfgov-misc
  notes:
    - ".padded-container is meant to contain anything you want with consistent
      padding. It uses a margin collapsing trick in CSS to achieve this
      consistency which this is why .line-container_body is needed. The only
      caveat to this consistency is if you place something inside of it that has
      a bottom-margin that is larger than the .padded-container padding."
  patterns:
    - name: Basic padded container
      markup: |
        <div class="padded-container">
            <div class="padded-container_body">
                <p>
                    ¯\_(ツ)_/¯<br>
                    There is padding all around me!
                </p>
            </div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .padded-container
            .padded-container_body
  tags:
    - cfgov-misc
*/

.padded-container {
    margin: 0 0 unit(30px / @base-font-size-px, em);
    background: @gray-10;
    // Counteract the margin collapsing.
    overflow: hidden;

    &_body {
        // 26px is eyeballed to 30px when considering line heights of potential
        // children.
        margin: unit(24px / @base-font-size-px, em)
                unit(30px / @base-font-size-px, em)
                unit(24px / @base-font-size-px, em);
    }
}


/* topdoc
  name: Filters
  family: cfgov-misc
  patterns:
    - name: Basic filter
  tags:
    - cfgov-misc
*/

.filters {
    margin-bottom: unit(30px / @base-font-size-px, em);
}


/* topdoc
  name: EOF
  eof: true
*/
