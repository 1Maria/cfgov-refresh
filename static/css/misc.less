/* ==========================================================================
   cfgov-refresh
   misc
   ========================================================================== */


/* topdoc
  name: Forms
  family: cfgov-misc
  patterns:
    - name: Form element showcase
      markup: |
        <div class="form-group">
            <label class="form-group_header">Form group header</label>
            <label class="form-group_item form-label">
                <input type="checkbox">
                Form label
            </label>
            <label class="form-group_item form-label">
                <input type="checkbox">
                Form label
            </label>
        </div>
        <div class="form-group">
            <label class="form-group_header">Form group header</label>
            <select class="form-group_item" name="select">
                <option value="value1">Value 1</option>
                <option value="value2">Value 2</option>
                <option value="value3">Value 3</option>
            </select>
        </div>
        <div class="form-actions">
            <a href="/blog/" class="btn btn-warning btn-link form-actions_item">Reset filters</a>
            <input type="submit" value="Apply filters" class="btn form-actions_item">
        </div>
    - name: Form label
      markup: |
        <label class="form-label">
            Form label
        </label>
    - name: Form element nested within a label
      markup: |
        <label class="form-label">
            <input type="checkbox">
            Form label
        </label>
      notes:
        - "When nesting a form input the input will receive a right margin to
          space it from the label text."
    - name: Form groups
      markup: |
        <div class="form-group">
            <label class="form-group_header">Form group header</label>
            <label class="form-group_item form-label">
                <input type="checkbox">
                Form label
            </label>
            <label class="form-group_item form-label">
                <input type="checkbox">
                Form label
            </label>
        </div>
        <div class="form-group">
            <label class="form-group_header">Form group header</label>
            <select class="form-group_item" name="select">
                <option value="value1">Value 1</option>
                <option value="value2">Value 2</option>
                <option value="value3">Value 3</option>
            </select>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .form-group
            .form-group_header
            .form-group_item
      notes:
        - "A form group is recommended you need to associate several form
          elements with each other like a label and an input, or a heading and a
          group of checkboxes, or even a group of select menus that are realted
          to each other."
    - name: Form actions
      markup: |
        <div class="form-actions">
            <a href="/blog/" class="btn btn-warning btn-link form-actions_item">Reset filters</a>
            <input type="submit" value="Apply filters" class="btn form-actions_item">
        </div>
      notes:
        - "Simply adds some top margin to set it apart from form groups."
  tags:
    - cfgov-misc
*/

.form-label {
    .webfont-regular();

    & input {
        margin-right: unit(6px / @base-font-size-px, em);
    }
}

.form-group + .form-group {
    margin-top: unit(22px / @base-font-size-px, em);
}

.form-group_header {
    .h5();
    margin-bottom: unit(10px / @font-size, em);
}

.form-group_item {
    // Eyeballed to 15px considering line-height.
    margin-bottom: unit(6px / @base-font-size-px, em);
}

.form-actions {
    // Eyeballed to 30px considering line-height.
    margin-top: unit(26px / @base-font-size-px, em);
}

.form-actions_item + .form-actions_item {
    // Eyeballed to 30px considering ~4px of space between inline-block items.
    margin-left: unit(30px / @base-font-size-px, em);
}


/* topdoc
  name: Filters
  family: cfgov-misc
  patterns:
    - name: Basic filter patterns
      markup: |
        <div class="filter_cols">
            <div class="filter_col filter_col-1-3">
                <div class="form-group">
                    <label class="form-group_header">
                        Filter column 1
                    </label>
                    <label class="form-group_item form-label">
                        <input type="checkbox" name="" value="">
                        Checkbox 1
                    </label>
                    <label class="form-group_item form-label">
                        <input type="checkbox" name="" value="">
                        Checkbox 2
                    </label>
                </div>
            </div>
            <div class="filter_col filter_col-1-3">
                <div class="form-group">
                    <label class="form-group_header">
                        Filter column 2
                    </label>
                    <input type="text" name="" value="">
                </div>
            </div>
            <div class="filter_col filter_col-1-3">
                <div class="form-group">
                    <label class="form-group_header">
                        Filter column 3
                    </label>
                    <input type="text" name="" value="">
                </div>
            </div>
        </div>
        <div class="filter-actions filter-actions__right form-actions">
            <input type="reset" value="Reset filters"
                   class="btn btn-warning btn-link form-actions_item">
            <input type="submit" value="Apply filters"
                   class="btn form-actions_item">
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .filter
            .filter_cols
              .filter_col.filter_col-1-3
            .filter-actions.filter-actions__right
      notes:
        - "The filters pattern relies on expandables."
  tags:
    - cfgov-misc
*/

.filter_col {
    // Eyeballed to 30px considering line-height.
    margin-bottom: unit(16px / @base-font-size-px, em);
}

.u-respond-to-min(600px, {
    .filter_cols {
        .grid_nested-col-group();
    }
    .filter_col-1-3 {
        .grid_column(6);
    }
});

.u-respond-to-min(768px, {
    .filter_col-1-3 {
        .grid_column(4);
    }
});

.filter-actions {
    margin-top: unit(30px / @base-font-size-px, em);
    .u-respond-to-min(600px, {
        & {
            // Take into account the bottom margin for .filter_col.
            margin-top: unit(14px / @base-font-size-px, em);
        }
    });
}

.filter-actions__right {
    text-align: right;
}

.expandable {
    margin-bottom: unit(30px / @base-font-size-px, em);
}

.expandable_header__spaced {
    margin-bottom: unit(15px / @base-font-size-px, em);
}


/* topdoc
  name: Hero
  family: cfgov-misc
  patterns:
    - name: Basic hero
      markup: |
        <section class="hero" style="background-color:#337E7D;">
            <div class="hero_wrapper">
                <div class="hero_card">
                    <div class="hero_card-bg">
                        <div class="hero_card-padding">
                            <h1>My hero!</h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hero_img-container hero_img-container__small u-flexible-container">
                <div class="hero_img u-flexible-container_inner"
                     style="background-image:url(../static/img/hero-small.png);">
                </div>
            </div>
            <div class="hero_img-container hero_img-container__large">
                <div class="hero_img"
                     style="background-image:url(../static/img/hero-large.png);">
                </div>
            </div>
        </section>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .hero
            .hero_wrapper
              .hero_card
                .hero_card-bg
                  .hero_card-padding
            .hero_img-container.hero_img-container__small
              .hero_img
            .hero_img-container.hero_img-container__large
              .hero_img
    - codenotes:
        - .hero
      notes:
        - "For full screen edge to edge background color. We have chosen to set
          the background color using an inline style so that our templating
          system can dynamically set it. If it makes more sense for your project
          to set it with CSS then please do so."
    - codenotes:
        - .hero_wrapper
      notes:
        - "To center the hero content with a max-width."
    - codenotes:
        - .hero_card-padding
      notes:
        - "This extra div is used to collapse the margins of child elements."
    - codenotes:
        - .hero_img-container
      notes:
        - "By using a wrapping element we can responsibly load a small or large
          screen background image by controling the display value of this element.
          More info on this approach can be found here:
          http://timkadlec.com/2012/04/media-query-asset-downloading-results/"
    - codenotes:
        - .hero_img
      notes:
        - "The reason for using a background image is noted above in
          .hero_img-container. We have chosen to set the background image using
          an inline style so that our templating system can dynamically set the
          source. If it makes more sense for your project to set it with CSS
          then please do so."
  tags:
    - cfgov-misc
*/

.hero {
    position: relative;
    overflow: hidden;
    background-color: @gray;

    &_wrapper {
        .wrapper;
    }

    // The image container is needed to suppress loading of the images until
    // they are needed. Research: http://timkadlec.com/2012/04/media-query-asset-downloading-results/
    &_img-container {
        display: none;
        line-height: 1;
    }

    // The small hero image container should scale proportionally to the image
    // which is set as a background in the child .hero_img.
    &_img-container__small {
        .u-flexible-container();

        & .hero_img {
            .u-flexible-container_inner();
        }
    }

    &_img {
        display: block;
        height: 100%;
        line-height: 1;
        background-position: center bottom;
        background-repeat: no-repeat;
        background-size: cover;
    }

    .u-respond-to-max(659px, {
        &_img-container__small {
            .u-flexible-container(660,300);
            display: block;
        }
    });

    &_card-bg {
        background: @white;
        background: fade(@white, 90%);
        // Overflow hidden is used to counteract the margin collapse used in
        // .hero_card-padding.
        overflow: hidden;
    }

    &_card-padding {
        padding: @grid_gutter-width @grid_gutter-width 0;
        margin-bottom: @grid_gutter-width + 10px;
    }

    .u-respond-to-min(660px, {
        padding-top: unit(30px / @base-font-size-px, em);

        &_wrapper {
            position: relative;
            z-index: 2;
        }

        &_img-container__large {
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            z-index: 1;
        }

        &_card {
            .grid_column(6);
            .grid_push(6);
        }
    });

    .u-respond-to-min(1024px, {
        &_card {
            .grid_column(4);
            .grid_push(8);
        }
    });
}


/* topdoc
  name: Lists
  family: cfgov-misc
  notes:
    - "Note that modifiers are the most common use cases for this block, hence
      the reason there are no direct styles associated with .link or .link_item."
  patterns:
    - name: Basic structure
      markup: |
        <ul class="list">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .list
            .list_item
              .list_link
  tags:
    - cfgov-misc
*/

.list_link {
    .webfont-medium();
}


/* topdoc
  name: Unstyled list modifier
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <ul class="list list__unstyled">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
  tags:
    - cfgov-misc
*/

.list__unstyled {
    padding-left: 0;
    list-style-type: none;
}


/* topdoc
  name: Spaced list item modifier
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <ul class="list">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item list_item__spaced">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
  tags:
    - cfgov-misc
*/

.list_item__spaced {
    margin-top: unit(24px / @base-font-size-px, em);
}


/* topdoc
  name: Horizontal list modifier
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <ul class="list list__horizontal">
            <li class="list_item">
                <a class="list_link">List item 1</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 2</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 3</a>
            </li>
            <li class="list_item">
                <a class="list_link">List item 4</a>
            </li>
        </ul>
  tags:
    - cfgov-misc
*/


.list__horizontal {
    padding-left: 0;

    .list_item {
        .u-inline-block();
    }

    .list_item + .list_item {
        // Assuming a natural space of 4px between inline block items
        // then the space between would be 8px (4px natural + 4px added).
        margin-left: unit(4px / @base-font-size-px, em);
    }
}


/* topdoc
  name: Share icon
  family: cfgov-misc
  patterns:
    - name: Default example
      markup: |
        <a class="share-icon" href="#">
            <span class="cf-icon cf-icon-email-social-square"></span>
            <span class="visually-hidden">
                Share by email
            </span>
        </a>
      notes:
        - "Text for screenreaders is added with the .visually-hidden element."
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .share-icon
            .cf-icon.cf-icon-name
            .visually-hidden
  tags:
    - cfgov-misc
*/

.share-icon {
    color: @darkgray;
    font-size: unit(26px / @base-font-size-px, em);
    line-height: 1;
    .u-link__colors(@darkgray, @pacific-80);
    .u-link__no-border();

    & + & {
        margin-left: unit(2px / 26px, em);
    }
}


/* topdoc
  name: Line container
  family: cfgov-misc
  notes:
    - ".line-container is meant to contain anything you want with consistent top
      and bottom padding. It uses a margin collapsing trick in CSS to achieve
      this consistency which this is why .line-container_body is needed. The
      only caveat to this consistency is if you place something inside of it
      that has a bottom-margin that is larger than the .line-container padding."
  patterns:
    - name: Basic line container
      markup: |
        <div class="line-container">
            <div class="line-container_body">
                <p>
                    ¯\_(ツ)_/¯<br>
                    There is a light border above and below me!
                </p>
            </div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .line-container
            .line-container_body
    - name: Line container with no top border or padding (example 1)
      markup: |
        <div class="line-container line-container__no-top">
            <div class="line-container_body">
                <h2 class="header-slug">
                    <span class="header-slug_inner">
                        Blog summary
                    </span>
                </h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                    Dolorum ex provident dolorem ipsum molestias eius tenetur
                    doloribus obcaecati illum autem! Fuga commodi natus
                    distinctio accusantium esse ab dolore in aliquid.
                </p>
            </div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .line-container.line-container__no-top
            .line-container_body
    - name: Line container with no top border or padding (example 2)
      markup: |
        <div class="line-container">
            <div class="line-container_body line-container__no-top">
                <p>
                    <img src="http://placekitten.com/700/200" alt="">
                </p>
                <h2>
                    Photo heading
                </h2>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                    Dolorum ex provident dolorem ipsum molestias eius tenetur
                    doloribus obcaecati illum autem! Fuga commodi natus
                    distinctio accusantium esse ab dolore in aliquid.
                </p>
            </div>
        </div>
  tags:
    - cfgov-misc
*/

.line-container {
    margin: 0 0 unit(30px / @base-font-size-px, em);
    border-top: 1px solid @gray-20;
    border-bottom: 1px solid @gray-20;

    &_body {
        // 26px is eyeballed to 30px when considering line heights of potential
        // children.
        margin: unit(26px / @base-font-size-px, em)
                0
                unit(26px / @base-font-size-px, em);
    }

    &__no-top {
        border-top: 0;
        .line-container_body {
            margin-top: 0;
        }
    }
}


/* topdoc
  name: Padded container
  family: cfgov-misc
  notes:
    - ".padded-container is meant to contain anything you want with consistent
      padding. It uses a margin collapsing trick in CSS to achieve this
      consistency which this is why .line-container_body is needed. The only
      caveat to this consistency is if you place something inside of it that has
      a bottom-margin that is larger than the .padded-container padding."
  patterns:
    - name: Basic padded container
      markup: |
        <div class="padded-container">
            <div class="padded-container_body">
                <p>
                    ¯\_(ツ)_/¯<br>
                    There is padding all around me!
                </p>
            </div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .padded-container
            .padded-container_body
  tags:
    - cfgov-misc
*/

.padded-container {
    margin: 0 0 unit(30px / @base-font-size-px, em);
    background: @gray-10;
    // Counteract the margin collapsing.
    overflow: hidden;

    &_body {
        // 26px is eyeballed to 30px when considering line heights of potential
        // children.
        margin: unit(24px / @base-font-size-px, em)
                unit(30px / @base-font-size-px, em)
                unit(24px / @base-font-size-px, em);
    }
}


/* topdoc
  name: EOF
  eof: true
*/
