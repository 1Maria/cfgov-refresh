{# ==========================================================================

   sidebar_contact_info

   ==========================================================================

   Description:

   Create a Contact Information Sidebar organism.
   See [GHE]/flapjack/Modules-V1/wiki/Contact-Information-(Sidebar)

   page.contact:             An object containing contact metadata.
   page.contact.heading:     A string containing a heading.
   page.contact.body:        A string containing paragraph content.

   page.contact.contact_info:
                             An object with contact details.

   ========================================================================== #}

<div class="o-sidebar-contact-info">
    <div class="o-sidebar-contact-info_heading">
        <h2 class="header-slug">
            <span class="header-slug_inner">
                Contact Information
            </span>
        </h2>
    </div>

    <div class="o-sidebar-contact-info_column">
        {% for block in page.contact.contact_info %}
            {% if block.block_type == 'address' %}
                {% set map_details = (block.bound_blocks.street + ', ' +
                                      block.bound_blocks.city + ' ' +
                                      block.bound_blocks.state + ' ' +
                                      block.bound_blocks.zip_code)
                                      | urlencode %}
            {% endif %}
        {% endfor %}
        <figure>
            <a href="https://www.google.com/maps/place/{{ map_details }}">
                <img src="http://maps.googleapis.com/maps/api/staticmap?zoom=16&size=330x250&markers=color:red%7C{{ map_details }}&scale=2" alt="">
            </a>
        </figure>

        <h3>{{ page.contact.heading }}</h3>
        <p>{{ page.contact.body }}</p>
    </div>

    <div class="o-sidebar-contact-info_column">
        {% for block in page.contact.contact_info %}
            {{ block }}
        {% endfor %}
    </div>
</div>
