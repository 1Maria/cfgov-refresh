{# ==========================================================================

   Item Introduction

   ==========================================================================

   Description:

   Create an Item Introduction molecule.
   See [GHE]/flapjack/Modules-V1/wiki/Item-Introduction

   value:                   An object with the following options for value.

   value.category_label:    The category label text.
   value.title_heading:     Heading text.
   value.paragraph_heading: Body introduction text.
   value.authors:           Array of author names and associated URLs.

   value.date:              A datetime for the post.
   value.has_social:        Whether to show the share icons or not.

   ========================================================================== #}

{% if not value %}
    {% set lipsumText = lipsum(1, false, 10, 25) | safe %}
    {% do global_dict.update(
        {
            'intro_introduction': {
                'category_label': 'info for consumers',
                'title_heading': 'Item Introduction',
                'paragraph_heading': lipsumText,
                'authors': [
                              {'text':'Pat Govning', 'url':'#'},
                              {'text':'Ingrid Phed', 'url':'#'}
                          ],
                'date': '12-12-2015',
                'has_social': true
            }
        })
    %}
    {% set value = global_dict.intro_introduction %}
{% endif %}

{% import 'molecules/social-media.html' as social_media with context %}
{% import 'macros/category-slug.html' as category_slug %}
{% import 'macros/time.html' as time %}
<div class="o-item-introduction">
    <div class="h4">
        {{ category_slug.render('info for consumers') }}
    </div>
    <h1>{{ value.title_heading }}</h1>

    {% if value.paragraph_heading %}
        <p class="short-desc">{{ value.paragraph_heading | safe }}</p>
    {% endif %}

    <p class="short-desc">
        {% if value.authors %}
            By
            {% for link in value.authors %}
                {% if loop.first == false %}
                and
                {% endif %}
                <a href="{{ link.url }}">
                    {{ link.text }}
                </a>
            {% endfor %}
            -
        {% endif %}
        {% if value.date %}
            {{ time.render(value.date, {'date':true}) }}
        {% endif %}
    </p>

    {% if value.has_social %}
        <div>
            {{ social_media.render() }}
        </div>
    {% endif %}
</div>
