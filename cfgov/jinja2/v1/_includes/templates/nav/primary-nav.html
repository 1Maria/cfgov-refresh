{% import 'templates/nav/_vars-primary-nav.html' as vars with context %}
{% import 'macros/sub-nav.html' as sub_nav with context %}
<nav class="o-mega-menu
            primary-nav
            js-primary-nav"
     aria-expanded="false"
     aria-label="main navigation"
     role="navigation">

    <ul class="primary-nav_menu-list">

        {# TODO: CTA needs to be focused first when menu is opened. #}
        <li class="primary-nav_item">
            {% import 'molecules/global-header-cta.html' as global_cta with context %}
            {{ global_cta.render() }}
        </li>

        {%- for nav_title,
                sub_nav_landing,
                sub_nav_title,
                sub_nav_media,
                sub_nav_items in vars.nav_items %}
            <li class="primary-nav_item js-primary-nav_item">
                {%- if sub_nav_items | length > 0 %}
                    <a class="primary-nav_link
                              js-primary-nav_link"
                       href="{{ sub_nav_landing }}">
                        {{ nav_title }}
                    </a>
                    {{ sub_nav.render(sub_nav_title, sub_nav_landing, sub_nav_items, sub_nav_media) }}
                {%- else %}
                  <a class="primary-nav_link u-link__disabled">
                      {{ nav_title }}
                  </a>
                {%- endif %}
            </li>
        {%- endfor %}
    </ul><!-- END .primary-nav_top-level-list -->

    {% import 'molecules/global-eyebrow.html' as global_eyebrow with context %}
    {{ global_eyebrow.render() }}

</nav><!-- END .primary-nav -->
