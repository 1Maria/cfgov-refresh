{# ==========================================================================

    Image Inset

    ==========================================================================

    Description:

    Creates image inset markup when given:

    value:               Object defined from a StreamField block.

    value.heading:       The heading of the image inset.

    value.image:         A basic image object to insert.

    value.image.upload:  The image object.

    value.image.alt:     String for alt text for screenreaders.

    value.paragraph:     String for text below the image.

   ========================================================================== #}


<div class="m-inset m-inset_image
           {{ 'm-inset_image__left' if value.float_left else '' }}
           {{ 'm-inset_image__' ~ value.image_width if value.image_width else '270' }}">
    {% if value.heading %}
    <h2 class="header-slug">
        <span class="header-slug_inner">
            {{ value.heading }}
        </span>
    </h2>
    {% endif %}

    {% set photo = image(value.image.upload, 'original') %}
    <div class='m-inset_image-container'>
        <img src="{{ photo.url }}"
             alt="{{ value.image.alt if value.image.alt else '' }}"
        >
    </div>

    {% if value.paragraph %}
        {{ parse_links(value.paragraph) | safe }}
    {% endif %}
</div>
