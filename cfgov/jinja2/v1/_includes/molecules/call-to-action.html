{# ==========================================================================

   call-to-action.render()

   ==========================================================================

   Description:

   Creates a call to action when given:

   settings.heading:     A string with the title for the header slug
                         of the call to action

   settings.text:        The text to include within slug markup.

   settings.button:      Button options to create markup.

   settings.button.url: A link to a page.
                         Defaults to '/'.

   settings.button.text: The text to display on button.

   ========================================================================== #}


<div class="m-call-to-action">
    {% if value %}
        {% if value.heading %}
            <h2 class="header-slug">
                <span class="header-slug_inner">
                    {{ value.heading }}
                </span>
            </h2>
        {% endif %}
        <p class="short-desc">
            {{ value.text }}
        </p>
        {% if caller %}
            caller()
        {% else %}
            <a class="btn btn__full"
               href="{{ value.button.url or '/' }}">
                {{ value.button.text }}
            </a>
        {% endif %}
    {% else %}
        {% macro render(settings) %}
            {% if settings.heading %}
                <h2 class="header-slug">
        <span class="header-slug_inner">
            {{ settings.heading }}
        </span>
                </h2>
            {% endif %}
            <p class="short-desc">
                {{ settings.text }}
            </p>
            {% if caller %}
                caller()
            {% else %}
                <a class="btn btn__full"
                   href="{{ settings.button.href or '/' }}">
                    {{ settings.button.text }}
                </a>
            {% endif %}
        {% endmacro %}
    {% endif %}
</div>