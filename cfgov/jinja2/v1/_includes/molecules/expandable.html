{# ==========================================================================

   expandable.render()

   ==========================================================================

   Description:

   Create an Expandable molecule when given:

   label:                Label you want on the Expandable.
                         Default is an empty string.

   settings
   settings.is_bordered: Whether the Expandable has a bottom border or not.
                         Default is true.
   settings.is_midtone:  Whether the Expandable is gray or not.
                         Default is false.
   settings.is_expanded: Whether the Expandable is expanded or not.
                         Default is false.
   ========================================================================== #}

{% macro render(label="", settings) %}
{# Add the __expanded modifier class by default so all expandables are open
   when JS is switched off, but add a data-js-hook to tell JS to remove it. #}
<div class="m-expandable
            m-expandable__expanded
            {{ 'm-expandable__borders' if settings.is_bordered else '' }}
            {{ 'm-expandable__midtone' if settings.is_midtone else '' }}"
     {{ 'data-state=expanded' if settings.is_expanded else '' }}>

    <button class="m-expandable_target">
        <div class="m-expandable_header">
            <span class="m-expandable_header-left
                         m-expandable_label">
                {{ label }}
            </span>
            <span class="m-expandable_header-right
                         m-expandable_link
                         u-hidden">
                <span class="m-expandable_cue
                             m-expandable_cue-open">
                    <span class="m-expandable_cue-label">Show</span>
                    <span class="cf-icon cf-icon-plus-round"></span>
                </span>
                <span class="m-expandable_cue
                             m-expandable_cue-close">
                    <span class="m-expandable_cue-label">Hide</span>
                    <span class="cf-icon cf-icon-minus-round"></span>
                </span>
            </span>
        </div>
    </button>
    <div class="m-expandable_content"
         {{ 'aria-expanded=true' if settings.is_expanded else '' }}>
        <div class="m-expandable_content-animated">
            {{ caller() }}
        </div>
    </div>
</div>
{% endmacro %}
