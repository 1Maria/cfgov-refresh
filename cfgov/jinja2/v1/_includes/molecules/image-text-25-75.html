
{# ==========================================================================

   image_text_25_75.render()

   ==========================================================================

   Description:

   Create an image and text 25/75 molecule.
   See [GHE]/flapjack/Modules-V1/wiki/25-75-Image-&-Text

   settings:            An object with the following options for settings.

   settings.image_path: URL for image to display.
   settings.image_alt:  Alternative text for image.

   settings.heading:    Heading of the text content.
   settings.body:       Body of the text content.

   settings.link_url:   Link URL.
   settings.link_text:  Link text.

   has_rule:            Whether there is a top gray rule.
                        Default is false.

   ========================================================================== #}

{% if value %}
    <div class="m-image-text-25-75">
        {% if value.has_rule %}
            <div class="a-rule-break"></div>
        {% endif %}

        <div class="m-image-text-25-75_image-container">

            {# Use a div if this is a decorative image,
            in which case the alt attribute is empty. #}

            {% if value.image.upload %}
                {% set photo=image(value.image.upload, 'original') %}
                {% if value.image.alt == '' %}
                    <div class="m-image-text-25-75_image u-centered-on-mobile"
                         style="background-image:url({{ photo.url }})"></div>
                {% else %}
                    <img class="m-image-text-25-75_image u-centered-on-mobile"
                         src="{{ photo.url }}"
                         alt="{{ value.image.alt }}">
                {% endif %}
            {% endif %}
        </div>
        <div class="m-image-text-25-75_content">
            <h3 class="m-image-text-25-75_heading">{{ value.heading }}</h3>

            <p class="m-image-text-25-75_body">{{ value.body }}</p>
            <a class="jump-link m-image-text-25-75_link" href="{{ value.link.url }}">
                {{ value.link.text }}
            </a>
        </div>
    </div>

{% else %}

    {% macro render(settings, has_rule=false) %}
    <div class="m-image-text-25-75">

        {% if has_rule %}
            <div class="a-rule-break"></div>
        {% endif %}

        <div class="m-image-text-25-75_image-container">

        {# Use a div if this is a decorative image,
           in which case the alt attribute is empty. #}
        {% if settings.image_alt == '' %}
            <div class="m-image-text-25-75_image u-centered-on-mobile"
                 style="background-image:url({{ settings.image_path }})"></div>
        {% else %}
            <img class="m-image-text-25-75_image u-centered-on-mobile"
                 src="{{ settings.image_path }}"
                 alt="{{ settings.image_alt }}">
        {% endif %}
        </div>
        <div class="m-image-text-25-75_content">
            <h3 class="m-image-text-25-75_heading">{{ settings.heading }}</h3>
            <p class="m-image-text-25-75_body">{{ settings.body }}</p>
            <a class="jump-link m-image-text-25-75_link" href="{{ settings.link_url }}">
                {{ settings.link_text }}
            </a>
        </div>
    </div>
    {% endmacro %}
{% endif %}
