/* topdoc
  name: Insets near Full Width Text
  family: cfgov-molecules
  patterns:
    - name: Default example
      markup: |
        <div class="o-full-width-text-group">
            <div class="m-full-width-text"></div>
            <div class="m-inset">
                <h2 class="header-slug">
                    <span class="header-slug_inner">
                    </span>
                </h2>
                <div class="m-inset_image-container">
                    <div class="m-inset_image m-inset_image__cover">
                    </div>
                    <img class="m-inset_image" />
                </div>
                <div class="m-quote"></div>
            </div>
            <div class="m-inset_text"></div>
            <div class="m-full-width-text"></div>
        </div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .o-full-width-text
            .m-full-width-text
            .m-inset
            .m-inset__image__left
            .m-inset__image__portrait
            .m-inset__image__150
            .m-inset__image__240
            .m-inset__image__300
                .header-slug
                    .header-slug_inner
                .m-inset_image-container
                    div.m-inset_image
                    div.m-inset_image__cover
                    img.m-inset_image
                .m-inset_text
                .m-quote
                .m-related-links
                .m-call-to-action
                .m-image-inset
                .m-full-width-text
  tags:
    - cfgov-molecules
  notes:
    - These are held in a full-width-text-group container to be held with
      various full-width text blocks, insets and tables as needed.
*/

.m-inset {
    margin-top: unit( @grid_gutter-width / @base-font-size-px, em );
    margin-bottom: unit( @grid_gutter-width / @base-font-size-px, em );
    width: 100%;
    clear: right;

    .respond-to-min(@bp-med-min, {
        float: right;
        width: unit( 270px / @base-font-size-px, em );
        margin-left: unit( @grid_gutter-width / @base-font-size-px, em );
    });

    .respond-to-min(@bp-lg-min, {
        margin-right: unit( @grid_gutter-width / @base-font-size-px, em );
    });

    &__image {
        float: right;

        div.m-inset_image {
            background-size: contain;
            background-repeat: no-repeat;
        }

        .m-inset_text {
            margin-top: unit( 5px / @base-font-size-px, em )
        }

        .respond-to-max(@bp-xs-max, {
            margin-left: 0;
            margin-right: 0;

            .m-inset_image {
                .u-flexible-container_inner();
            }

            img.m-inset_image {
                height: auto;
                width: auto;
            }

            div.m-inset_image {

                // Important is necessary to override the inline height value;
                height: 100% !important;

                &__cover {
                    background-size: cover;
                }
            }

            .m-inset_image-container {
                overflow: hidden;
                .u-flexible-container();
            }
        });

        .respond-to-min(@bp-sm-min, {
            &__150 {
                width: 150px;
            }

            &__270 {
                width: 270px;
            }

            &__300 {
                width: 300px;
            }
        });

        &__left {
            float: left;
            clear: left;

            .respond-to-max(@bp-xs-max, {
                margin: unit( @grid_gutter-width / @base-font-size-px, em )
                        0
                        unit( @grid_gutter-width / @base-font-size-px, em )
                        0;
            });
        }

        &__portrait {

            .respond-to-max(@bp-xs-max, {
                .m-inset_image-container {
                    padding-bottom: 75%;
                }
            });
        }
    }

    .m-call-to-action,
    .m-related-links {
        padding-bottom: unit( @grid_gutter-width / @base-font-size-px, em );
        border-bottom: 1px solid @horizontal-rule;
    }

    .m-full-width-text,
    .m-quote {
        padding-top: unit( @grid_gutter-width / @base-font-size-px, em );
        padding-bottom: unit( ( @grid_gutter-width / 2 ) / @base-font-size-px, em );
        border-top: 1px solid @horizontal-rule;
        border-bottom: 1px solid @horizontal-rule;
        margin-bottom: unit( ( @grid_gutter-width / 2 ) / @base-font-size-px, em );
    }
}

/* topdoc
    name: EOF
    eof: true
*/
